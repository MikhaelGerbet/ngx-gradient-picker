<div 
  class="stops-container" 
  #stopsContainer
  [class.can-add]="canAddStop() && !disabled()"
  (dblclick)="onContainerDblClick($event)"
  (touchend)="onContainerTouchEnd($event)"
  (mousemove)="onContainerMouseMove($event)"
  (mouseleave)="onContainerMouseLeave()">
  
  @if (hoverPosition() !== null) {
    <div class="ghost-stop" [style.left.%]="hoverPosition()"></div>
  }
  
  @for (stop of palette(); track trackByStopId($index, stop)) {
    <ngx-color-stop
      [stop]="stop"
      [disabled]="disabled()"
      [isBeingDeleted]="isInDeleteZone() && draggingStop()?.id === stop.id"
      [isNew]="recentlyAddedStopId() === stop.id"
      (stopSelect)="onStopSelect($event)"
      (dragStart)="onDragStart($event)"
      (colorChange)="onStopColorChange($event)"
      (delete)="onStopDelete($event)"/>
  }
</div>
